<div class="container-fluid" style="background-color: #f1f5f9">
  <div class="row mt-0">
    <!-- Search Bar -->
    <div class="col-8">
      <div class="input-group">
        <input
          class="form-control"
          type="search"
          placeholder="Search"
          aria-label="Search"
          [(ngModel)]="searchProject"
        />
        <button
          class="btn btn-success"
          type="submit"
          (click)="getSearchedProjects()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-search"
            viewBox="0 0 16 16"
          >
            <path
              d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85zM2 6.5a4.5 4.5 0 0 1 9 0 4.5 4.5 0 0 1-9 0z"
            />
          </svg>
        </button>
      </div>
    </div>

    <!-- Create Project Button -->
    <div class="col-4">
      <div class="card">
        <div class="card-body">
          <button class="btn btn-primary" (click)="createProject()">
            Create Project
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Projects -->
  <div class="row">
    <div class="col-8 project" style="overflow-y: auto; max-height: 70vh">
      <div class="row pt-5" *ngFor="let project of projectList">
        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <div class="row card-header card-header-danger">
                <div class="col-1"></div>

                <div class="col-10"><b>Project: </b> {{ project?.name }}</div>
                <div class="col-1 text-end">
                  <a
                    [routerLink]="'/project-detail/' + project.projectId"
                    style="color: white"
                  >
                    <fa-icon [icon]="faArrowUpRight"></fa-icon>
                  </a>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-4">
                  <b>Department</b>: {{ project?.department }}
                </div>
                <div class="col-4"><b>City</b>: {{ project?.city }}</div>
                <div class="col-4"><b>Budget</b>: â‚¬ {{ project?.budget }}</div>
              </div>
              <div class="row mt-2">
                <div class="col-12">
                  <b>Description: </b>

                  <span class="text-muted"
                    >{{ project?.description | slice : 0 - 300 }}....<a
                      [routerLink]="'/project-detail/' + project.projectId"
                      >Read More</a
                    ></span
                  >
                  <hr />
                </div>
              </div>
              <div class="row">
                <div class="col-6">
                  <b>Project Start: </b> {{ project?.projectStartDate | date
                  }}<br />
                  <b>Duration: </b> {{ project?.duration }}
                </div>
                <div class="col-6 text-end">
                  <a
                    (click)="upVoteProject(project.projectId)"
                    style="cursor: pointer"
                  >
                    <fa-icon
                      [icon]="faArrowUp"
                      style="color: green"
                      *ngIf="project.upVotes.includes(loggedInUserID)"
                    >
                    </fa-icon>
                    <fa-icon
                      [icon]="faArrowUp"
                      style="color: rgb(231, 229, 229)"
                      *ngIf="!project.upVotes.includes(loggedInUserID)"
                    ></fa-icon>
                  </a>
                  <span>{{ project?.upVotes?.length }}</span>

                  <a
                    (click)="downVoteProject(project.projectId)"
                    style="cursor: pointer"
                  >
                    <fa-icon
                      [icon]="faArrowDown"
                      style="color: red"
                      *ngIf="project.downVotes.includes(loggedInUserID)"
                    >
                    </fa-icon>
                    <fa-icon
                      [icon]="faArrowDown"
                      style="color: rgb(231, 229, 229)"
                      *ngIf="!project.downVotes.includes(loggedInUserID)"
                    ></fa-icon>
                  </a>
                  <span>{{ project?.downVotes.length }}</span>
                  <span class="badge bg-secondary pe-auto">
                    <fa-icon [icon]="faMessage"></fa-icon>
                    {{ project?.totalComments }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Other Events -->
    <div class="col-4 filter pt-5" style="overflow-y: auto; max-height: 70vh">
      <div class="card">
        <div class="card-body">
          <h2>Upcoming Events</h2>
          <div *ngFor="let event of otherEvents">
            <div class="card mt-2">
              <!-- <img class="card-img-top" style="height:200px" [src]="event.imageUrl" alt="Card image"> -->
              <div class="card-body">
                <h4 class="card-title">{{ event.eventName }}</h4>
                <p class="card-text">
                  {{ event.eventStart | date }} - {{ event.eventEnd | date }}
                </p>
                <p class="card-text">{{ event.location }}</p>
                <a
                  [routerLink]="'/event-detail/' + event.id"
                  class="btn btn-primary"
                  >View</a
                ><!-- `/event-detail/${eventId}` -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
